<% provide(:title,"编辑试题")%>
<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <div class="single-panel-header">
      <h3><%=@testpaper.title%></h3>
    </div>
    <% (1..3).each do |idx|%>
      <div class="question-panel-header">
        <h3><%=number_to_hanzi(idx)%>、<%=get_qst_type_name(idx)%></h3>
      </div>
      <div id="pnl_qsttype_<%=idx%>">
        <% if !@hashques[idx].nil? %>
          <% @hashques[idx].each_with_index do |question,index|%>
            <%=render partial: get_qst_partial_name(idx),locals: {question: question,idx: index+1}%>
            <% end %>
        <% end %>
        <div>
          <button type="button" class="btn btn-primary" data-toggle="modal" id="btnNew<%=idx%>" >新增<%=get_qst_type_name(idx)%></button>
        </div>
      </div>
    <% end %>
  </div>

</div>

<!--单选框-->
<div class="modal fade" id="singleModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">单选题</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" name="singleFm" id="singleFm" action="/testpapers/<%=@testpaper.id%>/questions" method="post">
          <input type="hidden" name="qtype" value="1">
          <div class="form-group">
            <label class="col-sm-2 control-label">题目内容</label>
            <div class="col-sm-10">
              <textarea name="content" class="form-control" row="3" placeholder="输入试题内容"></textarea>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">选项</label>
            <div class="col-sm-10">
              <input name="answer1" class="form-control" placeholder="输入答案"/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">选项</label>
            <div class="col-sm-10">
              <input name="answer2" class="form-control" placeholder="输入答案"/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">选项</label>
            <div class="col-sm-10">
              <input name="answer3" class="form-control" placeholder="输入答案"/>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">选项</label>
            <div class="col-sm-10">
              <input name="answer4" class="form-control" placeholder="输入答案"/>
            </div>
          </div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" id="btnSingle">保存</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal-->
